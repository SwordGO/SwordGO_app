#:kivy 1.0
#:import sys sys
#:import MapSource mapview.MapSource
#:import MapView mapview

<MapViewBackground>:
    popup: popup.__self__
    MapViewer:
        id: mv
        zoom: 17
        lat: 37.3206023
        lon: 127.1286901
    FloatLayout:
        size_hint: 0.8,1.9
        Image:
            source: "icons/cobble.png"
        Label:
            size_hint: 1.1,1
            text: str(app.mineral_cobble)
    FloatLayout:
        size_hint: 1,1.9
        Image:
            source: "icons/col.png"
        Label:
            size_hint: 1.1,1
            text: str(app.mineral_col)
    FloatLayout:
        size_hint: 1.2,1.9
        Image:
            source: "icons/steel.png"
        Label:
            size_hint: 1.1,1
            text: str(app.mineral_steel)
    FloatLayout:
        size_hint: 1.4,1.9
        Image:
            source: "icons/gold.png"
        Label:
            size_hint: 1.1,1
            text: str(app.mineral_gold)
    FloatLayout:
        size_hint: .5, 0.2
        BoxLayout:
            orientation: 'vertical'	
            id:bl
            Button:
                text: "g"			
                size_hint: 1.0, 1.0
                on_release: app.start(1000, 0)
            Button:
                text: app.error			
                size_hint: 1.0, 1.0
                
            
            Label:
                text: app.gps_location
            Label:
                text: app.gps_status
            Label:
                text: app.error

            Popup:
                id: popup
                title: "NOP"
                size_hint: (0.5, 0.5)
                on_parent:
                    if self.parent == bl: self.parent.remove_widget(self)
                Button:
                    text: 'nop nop nop'
                    on_release: popup.dismiss()
                
            Button:
                text: 'make this shit'
                on_release: app.makemark2()